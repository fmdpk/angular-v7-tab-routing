<app-navbar></app-navbar>
<nav mat-tab-nav-bar
     class="mat-tab-nav-bar example-list"
     cdkDropList
     cdkDropListOrientation="horizontal"
     (cdkDropListDropped)="drop($event)">

  <a mat-tab-link
     *ngFor="let tab of tabs; index as i; trackBy:trackByFn"
     cdkDrag
     (click)="selectTab(tab, i)"
     [active]="activeTab === tab">

    {{ tab.title }}
    <button
      mat-icon-button
      (click)="$event.stopPropagation(); canCLoseTab(tab, i)"
      aria-label="Close tab"
    >
      <mat-icon>close</mat-icon>
    </button>

  </a>
  <div *cdkDragPlaceholder class="tab-placeholder">
  </div>

</nav>

<app-material-tab-content
  *ngFor="let tab of tabs; index as i; trackBy:trackByFn"
  [ngClass]="tab && activeTab && tab.key === activeTab.key ? '' : 'hidden-tab'"
  [tabKey]="tab.key"
  [componentData]="tab.data"
  [componentType]="tab.component"
></app-material-tab-content>

